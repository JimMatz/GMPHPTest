{
    "type": "Ext.app.Controller",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "designer|userClassName": "MyController"
    },
    "configAlternates": {
        "designer|userClassName": "string"
    },
    "name": "MyController",
    "designerId": "635bd93a-bb2b-40ad-9345-c63a14c980a6",
    "cn": [
        {
            "type": "fixedfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|params": [
                    "application"
                ],
                "fn": "init",
                "implHandler": [
                    "console.log('setting state manager'); ",
                    "Ext.state.Manager.setProvider(new Ext.state.CookieProvider({",
                    "                    expires: new Date(new Date().getTime() + (1000 * 60 * 60 * 24 * 7)), //7 days from now",
                    "                }));",
                    ""
                ]
            },
            "configAlternates": {
                "designer|params": "typedarray",
                "fn": "string",
                "implHandler": "code"
            },
            "name": "init",
            "designerId": "cffacd51-157e-4ffb-8432-9048b53bf09f"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|params": [
                    "data"
                ],
                "fn": "crtEditWin",
                "implHandler": [
                    "console.log(data);",
                    "",
                    "",
                    "",
                    "winName =  'Win_' + Ext.String.trim(data.USR);",
                    "formName = 'form_' +  Ext.String.trim(data.USR);",
                    "",
                    "if (data.TAGTYPE == 'D'){",
                    "    $data = Ext.create('Ext.form.field.Date', {",
                    "        id: winName + 'TAGV',",
                    "                    padding: 5,",
                    "                    fieldLabel: 'Value',",
                    "                    name: 'TAGV',",
                    "",
                    "                    allowBlank: false,",
                    "                    enforceMaxLength: true,",
                    "                    value: Ext.String.trim(data.TAGV),",
                    "                    maxLength: 50",
                    "    });",
                    "",
                    "",
                    "}",
                    "",
                    "",
                    "Ext.create('Ext.window.Window', {",
                    "",
                    "",
                    "    requires: [",
                    "        'MyApp.view.MyWindowViewModel',",
                    "        'Ext.panel.Panel',",
                    "        'Ext.form.field.Text',",
                    "        'Ext.form.FieldSet',",
                    "        'Ext.button.Button'",
                    "    ],",
                    "",
                    "    viewModel: {",
                    "        type: 'mywindow'",
                    "    },",
                    "    height: 702,",
                    "    width: 1217,",
                    "    title:    winName ,",
                    "    id: winName,",
                    "    defaultListenerScope: true,",
                    "",
                    "    items: [",
                    "        {",
                    "            xtype: 'form',",
                    "            height: 576,",
                    "            id: formName,",
                    "            url: '/Gemini/ARSetDefaults.php?DB=GI',",
                    "            layout: 'column',",
                    "            items: [",
                    "                {",
                    "                    xtype: 'textfield',",
                    "                    id: winName + 'USR',",
                    "                    padding: 5,",
                    "                    fieldLabel: 'User',",
                    "                    name: 'USR',",
                    "                    hiddend: true,",
                    "                    allowBlank: false,",
                    "                    enforceMaxLength: true,",
                    "                    value: Ext.String.trim(data.USR),",
                    "                    maxLength: 50",
                    "                },",
                    "                {",
                    "                    xtype: 'textfield',",
                    "                    id: winName +'TAG',",
                    "                    padding: 5,",
                    "                    fieldLabel: 'Property',",
                    "                    name: 'TAG',",
                    "                    readOnly: true,",
                    "                    value: Ext.String.trim(data.TAG),",
                    "                    enforceMaxLength: true,",
                    "                    maxLength: 10",
                    "                },{",
                    "                    xtype: 'textfield',",
                    "                    id: winName + 'TAGD',",
                    "                    padding: 5,",
                    "                    fieldLabel: 'Descriptiopn',",
                    "                    name: 'TAGD',",
                    "                    readOnly: true,",
                    "                    allowBlank: false,",
                    "                    enforceMaxLength: true,",
                    "                    value: Ext.String.trim(data.TAGD),",
                    "                    maxLength: 50",
                    "                },",
                    "                {",
                    "                    xtype: 'textfield',",
                    "                    id: winName + 'TAGTYPE',",
                    "                    padding: 5,",
                    "                    fieldLabel: 'Type',",
                    "                    name: 'TAGTYPE',",
                    "                    hiddend: true,",
                    "                    allowBlank: false,",
                    "                    enforceMaxLength: true,",
                    "                    value: Ext.String.trim(data.TAGTYPE),",
                    "                    maxLength: 50",
                    "                },{",
                    "                    xtype: 'textfield',",
                    "                    id: winName + 'TAGACTIVE',",
                    "                    padding: 5,",
                    "                    fieldLabel: 'Active',",
                    "                    name: 'TAGACTIVE',",
                    "                    hiddend: true,",
                    "                    allowBlank: false,",
                    "                    enforceMaxLength: true,",
                    "                    value: Ext.String.trim(data.TAGACTIVE),",
                    "                    maxLength: 50",
                    "                }",
                    "",
                    "",
                    "",
                    "            ],     ",
                    "            listeners: {",
                    "                afterrender: function(component, eOpts) {",
                    "                    if (data.TAGTYPE == 'D'){",
                    "    $data = Ext.create('Ext.form.field.Date', {",
                    "        id: winName + 'TAGV',",
                    "                    padding: 5,",
                    "                    fieldLabel: 'Value',",
                    "                    name: 'TAGV',",
                    "",
                    "                    allowBlank: false,",
                    "                    enforceMaxLength: true,",
                    "                    value: Ext.String.trim(data.TAGV),",
                    "                    maxLength: 50",
                    "    });",
                    "this.form.add($data);",
                    "",
                    "}",
                    "                    ",
                    "                }",
                    "            }",
                    "        },",
                    "        {",
                    "            xtype: 'button',",
                    "            text: 'Submit',",
                    "            handler: function() {",
                    "                var form = Ext.getCmp(formName).getForm(formName); // get the form panel",
                    "                if (form.isValid()) { // make sure the form contains valid data before submitting",
                    "                    form.submit({",
                    "                        success: function(form, action) {",
                    "                            Ext.Msg.alert('Success', action.result.msg);",
                    "                            Ext.getCmp(winName).close();",
                    "                            Ext.getStore('MyJsonStore').load();",
                    "                        },",
                    "                        failure: function(form, action) {",
                    "                            Ext.Msg.alert('Failed', action.result.msg);",
                    "                        }",
                    "                    });",
                    "                } else { // display error alert if the data is invalid",
                    "                    Ext.Msg.alert('Invalid Data', 'Please correct form errors.');",
                    "                }",
                    "            }",
                    "        }",
                    "    ],",
                    "",
                    "",
                    "",
                    "}).show();",
                    ""
                ]
            },
            "configAlternates": {
                "designer|params": "typedarray",
                "fn": "string",
                "implHandler": "code"
            },
            "name": "crtEditWin",
            "designerId": "0858233f-78b8-4059-b653-fa5886838dc4"
        }
    ]
}